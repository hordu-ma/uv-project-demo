# uv-project-demo

> åŸºäº uv çš„ Python é¡¹ç›®æœ€ä½³å®è·µç¤ºä¾‹ï¼Œå®ç° **Copilot "delegate to coding agent"** åŠŸèƒ½æ¡†æ¶

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ `uv` æ„å»ºå’Œç®¡ç†ç°ä»£ Python é¡¹ç›®ï¼Œéµå¾ª Unix å“²å­¦å’Œ Python ä¹‹ç¦…çš„æœ€ä½³å®è·µï¼Œå¹¶å®ç°äº†ä»»åŠ¡å§”æ‰˜ç»™ä¸“é—¨ç¼–ç¨‹ä»£ç†çš„åŠŸèƒ½ã€‚

## ğŸš€ ç‰¹æ€§

- âœ… **æ ‡å‡† src å¸ƒå±€**ï¼šé¿å…å¯¼å…¥å†²çªï¼Œç¬¦åˆ Python æ‰“åŒ…æ ‡å‡†
- âœ… **å®Œæ•´æµ‹è¯•å¥—ä»¶**ï¼šä½¿ç”¨ pytestï¼ŒåŒ…å«è¦†ç›–ç‡æ£€æµ‹ï¼ˆ94%+ï¼‰
- âœ… **è‡ªåŠ¨åŒ–å·¥å…·é“¾**ï¼šBlack æ ¼å¼åŒ– + Flake8 æ£€æŸ¥
- âœ… **ç±»å‹æ³¨è§£æ”¯æŒ**ï¼šå®Œæ•´çš„ç±»å‹æç¤ºå’Œæ£€æŸ¥
- âœ… **ä¸€é”®å¼€å‘è„šæœ¬**ï¼šè‡ªåŠ¨åŒ–æ‰€æœ‰å¼€å‘å·¥ä½œæµ
- âœ… **è¯¦ç»†æ–‡æ¡£**ï¼šåŒ…å«æœ€ä½³å®è·µæŒ‡å—
- ğŸ†• **Copilot ä»£ç†æ¡†æ¶**ï¼šå®ç°ä»»åŠ¡å§”æ‰˜ç»™ä¸“é—¨çš„ç¼–ç¨‹ä»£ç†

## ğŸ¤– Copilot ä»£ç†åŠŸèƒ½

æœ¬é¡¹ç›®å®ç°äº† **"delegate to coding agent"** æ¦‚å¿µï¼Œå…è®¸ä¸» Copilot ç³»ç»Ÿå°†å¤æ‚ç¼–ç¨‹ä»»åŠ¡å§”æ‰˜ç»™ä¸“é—¨çš„ç¼–ç ä»£ç†ï¼š

### æ ¸å¿ƒç»„ä»¶

- **`Copilot`**: ä¸»è¦åè°ƒå™¨ï¼Œè´Ÿè´£ç†è§£ç”¨æˆ·æ„å›¾å¹¶å§”æ‰˜ä»»åŠ¡
- **`CodingAgent`**: æŠ½è±¡åŸºç±»ï¼Œå®šä¹‰ç¼–ç ä»£ç†æ¥å£
- **ä¸“é—¨åŒ–ä»£ç†**:
  - `CodeGenerationAgent`: ä¸“é—¨è´Ÿè´£ä»£ç ç”Ÿæˆï¼ˆå‡½æ•°ã€ç±»ã€ä»£ç ç‰‡æ®µï¼‰
  - `UnitTestGenerationAgent`: ä¸“é—¨è´Ÿè´£å•å…ƒæµ‹è¯•ç”Ÿæˆ
  - `CodeAnalysisAgent`: ä¸“é—¨è´Ÿè´£ä»£ç åˆ†æå’Œè´¨é‡æ£€æŸ¥

### ä½¿ç”¨ç¤ºä¾‹

```python
from uv_project_demo import (
    Copilot, TaskRequest, 
    CodeGenerationAgent, UnitTestGenerationAgent, CodeAnalysisAgent
)

# åˆå§‹åŒ– Copilot å¹¶æ³¨å†Œä»£ç†
copilot = Copilot()
copilot.register_agent(CodeGenerationAgent())
copilot.register_agent(UnitTestGenerationAgent())
copilot.register_agent(CodeAnalysisAgent())

# åˆ›å»ºä»»åŠ¡è¯·æ±‚
task = TaskRequest(
    task_type="function",
    description="Create a function to calculate factorial",
    context={"name": "factorial", "parameters": ["n: int"], "return_type": "int"}
)

# å§”æ‰˜ä»»åŠ¡
result = copilot.delegate_task(task)
if result.success:
    print(f"Generated by: {result.metadata['handled_by']}")
    print(result.result)
```

### è¿è¡Œæ¼”ç¤º

```bash
# è¿è¡Œå®Œæ•´çš„æ¼”ç¤º
uv run python -c "from src.uv_project_demo.demo import demonstrate_delegation; demonstrate_delegation()"
```

### æ ¸å¿ƒä¼˜åŠ¿

- **åˆ†å·¥æ˜ç¡®**: æ¯ä¸ªä»£ç†ä¸“æ³¨äºç‰¹å®šç±»å‹çš„ç¼–ç¨‹ä»»åŠ¡ï¼Œæå‡æ•ˆç‡å’Œå‡†ç¡®æ€§
- **æå‡æ•ˆç‡**: ä»»åŠ¡è‡ªåŠ¨è·¯ç”±åˆ°æœ€åˆé€‚çš„ä»£ç†
- **å¯æ‰©å±•æ€§**: å®¹æ˜“æ·»åŠ æ–°çš„ä»£ç†ç±»å‹
- **é”™è¯¯å¤„ç†**: ä¼˜é›…å¤„ç†ä¸æ”¯æŒçš„ä»»åŠ¡ç±»å‹

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd uv-project-demo

# ä½¿ç”¨ uv åŒæ­¥ä¾èµ–
uv sync
```

### è¿è¡Œé¡¹ç›®

```bash
# ç›´æ¥è¿è¡Œ
python main.py

# æˆ–ä½¿ç”¨ uv
uv run python main.py

# å¸¦å‚æ•°è¿è¡Œ
python main.py "ä½ çš„åå­—"
```

## ğŸ› ï¸ å¼€å‘

### ä½¿ç”¨ä¸€é”®å¼€å‘è„šæœ¬

```bash
# è®¾ç½®å¼€å‘ç¯å¢ƒ
./dev.sh setup

# å®Œæ•´è´¨é‡æ£€æŸ¥ï¼ˆæ¨èï¼‰
./dev.sh check

# è¿è¡Œæµ‹è¯•
./dev.sh test

# æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
./dev.sh info

# æŸ¥çœ‹æ‰€æœ‰é€‰é¡¹
./dev.sh help
```

### æ‰‹åŠ¨å¼€å‘å‘½ä»¤

```bash
# è¿è¡Œæµ‹è¯•
uv run pytest

# æµ‹è¯•è¦†ç›–ç‡
uv run pytest --cov=src

# ä»£ç æ ¼å¼åŒ–
uv run black src/ tests/

# ä»£ç æ£€æŸ¥
uv run flake8 src/ tests/
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
uv-project-demo/
â”œâ”€â”€ src/uv_project_demo/          # ä¸»è¦æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py               # åŒ…åˆå§‹åŒ–
â”‚   â””â”€â”€ main.py                   # æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ tests/                        # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_main.py              # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ main.py                       # é¡¹ç›®å…¥å£ç‚¹
â”œâ”€â”€ dev.sh                        # å¼€å‘å·¥å…·è„šæœ¬
â”œâ”€â”€ pyproject.toml                # é¡¹ç›®é…ç½®
â”œâ”€â”€ .flake8                       # Flake8 é…ç½®
â””â”€â”€ uv.lock                       # ä¾èµ–é”å®šæ–‡ä»¶
```

## ğŸ“š æœ€ä½³å®è·µæ–‡æ¡£

æœ¬é¡¹ç›®åŒ…å«å®Œæ•´çš„æœ€ä½³å®è·µæŒ‡å—ï¼š

- **[UV_PYTHON_BEST_PRACTICES.md](./UV_PYTHON_BEST_PRACTICES.md)** - å®Œæ•´çš„ uv Python é¡¹ç›®æœ€ä½³å®è·µæŒ‡å—
- **[QUICK_REFERENCE.md](./QUICK_REFERENCE.md)** - å¿«é€Ÿå‚è€ƒå¡ç‰‡

è¿™äº›æ–‡æ¡£æ¶µç›–ï¼š

- æ–°å»ºé¡¹ç›®çš„æ ‡å‡†æµç¨‹
- æ—¥å¸¸å¼€å‘å·¥ä½œæµ
- æµ‹è¯•å’Œè´¨é‡ä¿è¯
- ä¾èµ–ç®¡ç†
- æ•…éšœæ’é™¤

## ğŸ¯ è´¨é‡æ ‡å‡†

æœ¬é¡¹ç›®éµå¾ªä¸¥æ ¼çš„è´¨é‡æ ‡å‡†ï¼š

- âœ… æµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%ï¼ˆå½“å‰ï¼š96%ï¼‰
- âœ… æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡
- âœ… Black ä»£ç æ ¼å¼åŒ–
- âœ… Flake8 ä»£ç æ£€æŸ¥æ— é”™è¯¯
- âœ… å‡½æ•°é•¿åº¦ < 60 è¡Œ
- âœ… å®Œæ•´çš„ç±»å‹æ³¨è§£
- âœ… æ˜¾å¼å¼‚å¸¸å¤„ç†

## ğŸ”§ å¼€å‘å·¥å…·

### æ ¸å¿ƒä¾èµ–

- **uv** - ç°ä»£ Python åŒ…ç®¡ç†å™¨
- **black** - ä»£ç æ ¼å¼åŒ–å·¥å…·
- **flake8** - ä»£ç é£æ ¼æ£€æŸ¥
- **pytest** - æµ‹è¯•æ¡†æ¶
- **pytest-cov** - è¦†ç›–ç‡æµ‹è¯•

### é…ç½®æ–‡ä»¶

- `pyproject.toml` - é¡¹ç›®å…ƒæ•°æ®å’Œå·¥å…·é…ç½®
- `.flake8` - Flake8 ç‰¹å®šé…ç½®
- `uv.lock` - ä¾èµ–ç‰ˆæœ¬é”å®š

## ğŸ“‹ å¼€å‘æ£€æŸ¥æ¸…å•

### æ¯æ—¥å¼€å‘

- [ ] `uv sync` åŒæ­¥ä¾èµ–
- [ ] `./dev.sh check` è´¨é‡æ£€æŸ¥
- [ ] ç¼–å†™æµ‹è¯•ç”¨ä¾‹
- [ ] ä¿æŒå‡½æ•°ç®€æ´ï¼ˆ< 60 è¡Œï¼‰

### æäº¤å‰

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç è¦†ç›–ç‡ â‰¥ 80%
- [ ] ä»£ç æ ¼å¼åŒ–å®Œæˆ
- [ ] æ—  Flake8 é”™è¯¯

### å‘ç‰ˆå‰

- [ ] æ›´æ–°ç‰ˆæœ¬å·
- [ ] æ›´æ–°æ–‡æ¡£
- [ ] `uv build` æ„å»ºæˆåŠŸ
- [ ] Git æ ‡ç­¾åˆ›å»º

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§ç»“æ„ï¼Ÿ

1. **src å¸ƒå±€**ï¼šé˜²æ­¢æµ‹è¯•æ—¶çš„å¯¼å…¥å†²çªï¼Œç¬¦åˆç°ä»£ Python é¡¹ç›®æ ‡å‡†
2. **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼šå‡å°‘é‡å¤æ€§å·¥ä½œï¼Œç¡®ä¿ä¸€è‡´çš„å¼€å‘ä½“éªŒ
3. **å®Œæ•´æµ‹è¯•**ï¼šä¿è¯ä»£ç è´¨é‡ï¼Œä¾¿äºé‡æ„å’Œç»´æŠ¤
4. **æ¸…æ™°æ–‡æ¡£**ï¼šæ–°å›¢é˜Ÿæˆå‘˜èƒ½å¿«é€Ÿä¸Šæ‰‹
5. **æ ‡å‡†åŒ–é…ç½®**ï¼šæ‰€æœ‰å·¥å…·ä½¿ç”¨ç»Ÿä¸€é…ç½®ï¼Œé¿å…å†²çª

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. è¿è¡Œ `./dev.sh check` é€šè¿‡æ‰€æœ‰æ£€æŸ¥
2. æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**ğŸ’¡ æç¤º**ï¼šè¿™ä¸ªé¡¹ç›®å¯ä»¥ä½œä¸ºæ–° Python é¡¹ç›®çš„æ¨¡æ¿ã€‚å¤åˆ¶æ•´ä¸ªç»“æ„ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹åŒ…åå’Œé…ç½®å³å¯å¿«é€Ÿå¯åŠ¨æ–°é¡¹ç›®ï¼
